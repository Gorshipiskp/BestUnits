from numpy import array

# Кандела: м^(-2)·кг^(-1)·с^3·кд·ср

# (м, кг, с, А, К, моль, кд, рад, рад, бит)
BASE_UNITS = {
    "м": array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
    "кг": array([0, 1, 0, 0, 0, 0, 0, 0, 0, 0]),
    "с": array([0, 0, 1, 0, 0, 0, 0, 0, 0, 0]),
    "А": array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0]),
    "К": array([0, 0, 0, 0, 1, 0, 0, 0, 0, 0]),
    "моль": array([0, 0, 0, 0, 0, 1, 0, 0, 0, 0]),
    "кд": array([0, 0, 0, 0, 0, 0, 1, 0, 0, 0]),
    "рад": array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0]),
    "ср": array([0, 0, 0, 0, 0, 0, 0, 0, 1, 0]),
    "бит": array([0, 0, 0, 0, 0, 0, 0, 0, 0, 1]),
}

PREFIXES_RU = {
    "йокто": {"symbols": ["y"], "multiplier": 1e-24},
    "зепто": {"symbols": ["z"], "multiplier": 1e-21},
    "атто": {"symbols": ["a"], "multiplier": 1e-18},
    "фемто": {"symbols": ["f"], "multiplier": 1e-15},
    "пико": {"symbols": ["p", "п"], "multiplier": 1e-12},
    "нано": {"symbols": ["n", "н"], "multiplier": 1e-9},
    "микро": {"symbols": ["μ", "µ", "мк"], "multiplier": 1e-6},
    "милли": {"symbols": ["m", "м"], "multiplier": 1e-3},
    "санти": {"symbols": ["c", "с"], "multiplier": 1e-2},
    "деци": {"symbols": ["d", "д"], "multiplier": 1e-1},
    "дека": {"symbols": ["da", "да"], "multiplier": 1e1},
    "гекто": {"symbols": ["h", "г"], "multiplier": 1e2},
    "кило": {"symbols": ["k", "к"], "multiplier": 1e3},
    "мега": {"symbols": ["M", "М"], "multiplier": 1e6},
    "гига": {"symbols": ["G", "Г"], "multiplier": 1e9},
    "тера": {"symbols": ["T", "Т"], "multiplier": 1e12},
    "пета": {"symbols": ["P", "П"], "multiplier": 1e15},
    "экса": {"symbols": ["E", "Э"], "multiplier": 1e18},
    "зетта": {"symbols": ["Z", "З"], "multiplier": 1e21},
    "йотта": {"symbols": ["Y", "Й"], "multiplier": 1e24},
}

COMPOSITE_UNITS = {
    # Механика
    "Н": array([1, 1, -2, 0, 0, 0, 0, 0, 0, 0]),  # Ньютон: кг·м/с²
    "Па": array([-1, 1, -2, 0, 0, 0, 0, 0, 0, 0]),  # Паскаль: Н/м² = кг/(м·с²)
    "Дж": array([2, 1, -2, 0, 0, 0, 0, 0, 0, 0]),  # Джоуль: Н·м = кг·м²/с²
    "Вт": array([2, 1, -3, 0, 0, 0, 0, 0, 0, 0]),  # Ватт: Дж/с = кг·м²/с³

    # Электричество
    "Кл": array([0, 0, 1, 1, 0, 0, 0, 0, 0, 0]),  # Кулон: А·с
    "В": array([2, 1, -3, -1, 0, 0, 0, 0, 0, 0]),  # Вольт: Дж/Кл = кг·м²/(с³·А)
    "Ом": array([2, 1, -3, -2, 0, 0, 0, 0, 0, 0]),  # Ом: В/А = кг·м²/(с³·А²)
    "Ф": array([-2, -1, 4, 2, 0, 0, 0, 0, 0, 0]),  # Фарад: Кл/В = с⁴·А²/(кг·м²)
    "Гн": array([2, 1, -2, -2, 0, 0, 0, 0, 0, 0]),  # Генри: Вб/А = кг·м²/(с²·А²)
    "См": array([-2, -1, 3, 2, 0, 0, 0, 0, 0, 0]),  # Сименс: 1/Ом = с³·А²/(кг·м²)
    "Вб": array([2, 1, -2, -1, 0, 0, 0, 0, 0, 0]),  # Вебер: В·с = кг·м²/(с²·А)
    "Тл": array([0, 1, -2, -1, 0, 0, 0, 0, 0, 0]),  # Тесла: Вб/м² = кг/(с²·А)

    # Термодинамика
    "Гц": array([0, 0, -1, 0, 0, 0, 0, 0, 0, 0]),  # Герц: 1/с
    "лм": array([0, 0, 0, 0, 0, 0, 1, 0, 0, 0]),  # Люмен: кд·ср
    "лк": array([-2, 0, 0, 0, 0, 0, 1, 0, 0, 0]),  # Люкс: лм/м² = кд·ср/м²

    # Химия и радиация
    "Бк": array([0, 0, -1, 0, 0, 0, 0, 0, 0, 0]),  # Беккерель: 1/с (распад/с)
    "Гр": array([2, 0, -2, 0, 0, 0, 0, 0, 0, 0]),  # Грей: Дж/кг = м²/с²
    "Зв": array([2, 0, -2, 0, 0, 0, 0, 0, 0, 0]),  # Зиверт: Дж/кг = м²/с²
    "кат": array([0, 0, -1, 0, 0, 1, 0, 0, 0, 0]),  # Катал: моль/с
}

SPECIAL_UNITS = {
    # --- Энергия ---
    "эВ": (array([2, 1, -2, 0, 0, 0, 0, 0, 0, 0]), 1.602176634e-19),  # электрон-вольт
    "кал": (array([2, 1, -2, 0, 0, 0, 0, 0, 0, 0]), 4.184),  # калория
    "эрг": (array([2, 1, -2, 0, 0, 0, 0, 0, 0, 0]), 1e-7),  # эрг

    # --- Масса ---
    "а.е.м.": (array([0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), 1.66053906660e-27),  # атомная единица массы
    "Да": (array([0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), 1.66053906660e-27),  # дальтон (синоним а.е.м.)
    "т": (array([0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), 1000.0),  # тонна
    "ц": (array([0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), 100.0),  # центнер

    # --- Давление ---
    "бар": (array([-1, 1, -2, 0, 0, 0, 0, 0, 0, 0]), 1e5),  # бар
    "атм": (array([-1, 1, -2, 0, 0, 0, 0, 0, 0, 0]), 101325),  # стандартная атмосфера
    "мм рт.ст.": (array([-1, 1, -2, 0, 0, 0, 0, 0, 0, 0]), 133.322368),  # миллиметр ртутного столба

    # --- Длина ---
    "Å": (array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 1e-10),  # ангстрем
    "фм": (array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 1e-15),  # ферми (фемтометр)
    "пк": (array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 3.085677581e16),  # парсек
    "св.год": (array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 9.460730472e15),  # световой год
    "а.е.": (array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 1.495978707e11),  # астрономическая единица
    "микрон": (array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 1e-6),  # микрометр

    # --- Химия ---
    "Ф": (array([0, 0, 1, 1, 0, 0, 0, 0, 0, 0]), 96485.33212),  # фарадей (1 моль электронов = 96485 Кл)

    # --- Оптика ---
    "Эйнштейн": (array([0, 0, 1, 0, 0, 1, 0, 0, 0, 0]), 1.0),  # 1 моль фотонов (как количество вещества)

    # --- Квантовая физика ---
    "lₚ": (array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 1.616255e-35),  # планковская длина
    "tₚ": (array([0, 0, 1, 0, 0, 0, 0, 0, 0, 0]), 5.391247e-44),  # планковское время
    "mₚ": (array([0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), 2.176434e-8),  # планковская масса
    "Eₚ": (array([2, 1, -2, 0, 0, 0, 0, 0, 0, 0]), 1.9561e9),  # планковская энергия (Дж)
    # --- Площадь ---
    "га": (array([2, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 1e4),  # гектар
    "б": (array([2, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 1e-28),  # барн

    # --- Время ---
    "мин": (array([0, 0, 1, 0, 0, 0, 0, 0, 0, 0]), 60.0),  # минута
    "ч": (array([0, 0, 1, 0, 0, 0, 0, 0, 0, 0]), 3600.0),  # час
    "сут": (array([0, 0, 1, 0, 0, 0, 0, 0, 0, 0]), 86400.0),  # сутки
    "год": (array([0, 0, 1, 0, 0, 0, 0, 0, 0, 0]), 31557600.0),  # год (365.25 суток)

    # --- Активность / радиация ---
    "Ки": (array([0, 0, -1, 0, 0, 0, 0, 0, 0, 0]), 3.7e10),  # кюри
    "Р": (array([-1, -1, 1, 1, 0, 0, 0, 0, 0, 0]), 2.58e-4),  # рентген: 2.58e-4 Кл/кг
    "рад": (array([2, 0, -2, 0, 0, 0, 0, 0, 0, 0]), 0.01),  # рад = 0.01 Дж/кг

    # --- Сила / мощность ---
    "лс": (array([2, 1, -3, 0, 0, 0, 0, 0, 0, 0]), 735.49875),  # лошадиная сила

    # --- Объём ---
    "л": (array([3, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 1e-3),  # литр = 1e-3 м³

    # --- Астрономические постоянные ---
    "M☉": (array([0, 1, 0, 0, 0, 0, 0, 0, 0, 0]), 1.98847e30),  # солнечная масса
    "R☉": (array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0]), 6.957e8),  # солнечный радиус
    "L☉": (array([2, 1, -3, 0, 0, 0, 0, 0, 0, 0]), 3.828e26),  # солнечная светимость

    # --- Информатика ---
    "Б": (array([0, 0, 0, 0, 0, 0, 0, 0, 0, 1]), 8),  # байт = 8 бит
}
# todo: Отдельно обрабатывать температурные единицы

UNITS_WORDS = {
    "°C": ["цельсий", "градус цельсия"],
    # todo: Потом добавить слов для NLP (PhotoSolver)
}
UNITS_INDEXES = tuple(BASE_UNITS.keys())

LEN_DIM = len(BASE_UNITS)
